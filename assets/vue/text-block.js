import{r as e,o as t,g as o,f as a,h as n,c as l,d as s,i as r,j as c,w as d,k as u,l as i,a as v,t as k,m as p,n as b,p as m,q as f}from"./chunks/runtime-dom.esm-bundler-40G0Ad-z.js";const _=["innerHTML"],g={key:1},y=f(((e,t)=>{const o=e.__vccOpts||e;for(const[a,n]of t)o[a]=n;return o})({__name:"TextBlock",props:{blockId:String,sectionId:String},setup(f){const y=f,x=e({}),h=e({});t(()=>{var e;const t=o(),a=null==(e=null==t?void 0:t.vnode)?void 0:e.el;let n=null==a?void 0:a.parentElement;for(;n&&"text-block"!==n.dataset.vueComponent;)n=n.parentElement;if(!n&&y.blockId&&(n=document.querySelector(`[data-block-id="${y.blockId}"]`)),!n)return void console.warn("TextBlock: Container not found");const l=n.dataset.blockSettings;if(l)try{x.value=JSON.parse(l)}catch(s){console.error("Failed to parse blockSettings:",s)}h.value={"data-shopify-editor-section-id":n.dataset.shopifyEditorSectionId||"","data-shopify-editor-block-id":n.dataset.shopifyEditorBlockId||""}});const I=a(()=>x.value.text||""),S=a(()=>"rte"===x.value.type_preset||"paragraph"===x.value.type_preset),E=a(()=>S.value?"rte-formatter":"div"),L=a(()=>{const e=x.value.width||"100%",t=x.value.alignment||"left";return["spacing-style text-block",`text-block--${y.blockId}`,x.value.type_preset,"100%"===e?`text-block--align-${t}`:"",x.value.background?"text-block--background":"",S.value?"rte":""].filter(Boolean).join(" ")}),$=a(()=>{const e=x.value.width||"100%",t={"--width":e};return"100%"===e&&(t["--text-align"]=x.value.alignment||"left"),x.value.background&&(t["--text-background-color"]=x.value.background_color||"rgb(255 255 255 / 1.0)",t["--text-corner-radius"]=`${x.value.corner_radius||0}px`),Object.entries(t).map(([e,t])=>`${e}: ${t}`).join("; ")});return(e,t)=>{const o=n("rte-formatter");return s(),l("div",null,[(s(),r(b(E.value),p({class:L.value,style:$.value},h.value),{default:u(()=>[i(e.$slots,"default",{},()=>[S.value?(s(),r(o,{key:0},{default:u(()=>[v("div",{innerHTML:I.value},null,8,_)]),_:1})):(s(),l("div",g,k(I.value),1))],!0)]),_:3},16,["class","style"])),c(" xx "+k(I.value)+" ",1),d(v("div",null," test my new text content",512),[[m,!1]])])}}},[["__scopeId","data-v-d34f6e26"]]));function x(){document.querySelectorAll('[data-vue-component="text-block"]').forEach(e=>{if(e.__vueInstance)return;const t=document.createElement("text-block-vue"),o=e.dataset.blockSettings;if(o)try{const a=JSON.parse(o);t.setAttribute("block-id",e.dataset.blockId||""),t.setAttribute("section-id",e.dataset.sectionId||""),t._blockSettings=a}catch(a){console.error("Failed to parse blockSettings:",a)}e.innerHTML="",e.appendChild(t),e.__vueInstance=t})}customElements.get("text-block-vue")||customElements.define("text-block-vue",y),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",x):x(),document.addEventListener("shopify:section:load",()=>{x()}),document.addEventListener("shopify:section:unload",e=>{var t;null==(t=e.target)||t.querySelectorAll('[data-vue-component="text-block"]').forEach(e=>{e.__vueInstance&&(e.__vueInstance.remove(),delete e.__vueInstance)})});
